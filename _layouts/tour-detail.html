---
layout: default
---
{% assign t = page %}
{% assign operator = nil %}
{% for op in site.data.operators %}
  {% if op.id == t.operatorId %}{% assign operator = op %}{% endif %}
{% endfor %}

<!-- Hero with Gallery -->
<div class="detail-hero-v2">
  {% if t.gallery and t.gallery.size > 0 %}
  <div class="hero-gallery">
    <div class="hero-gallery-main">
      <img src="{{ t.gallery[0].url }}" alt="{{ t.gallery[0].alt }}" id="galleryMain" onclick="openLightbox(0)">
    </div>
    <div class="hero-gallery-thumbs">
      {% for img in t.gallery offset:1 %}
      <div class="hero-thumb{% if forloop.index > 3 %} hero-thumb-more{% endif %}" onclick="openLightbox({{ forloop.index }})">
        <img src="{{ img.url }}" alt="{{ img.alt }}">
        {% if forloop.index == 4 and t.gallery.size > 5 %}
        <div class="thumb-overlay">+{{ t.gallery.size | minus: 5 }}</div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" onclick="closeLightbox(event)">
    <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
    <button class="lightbox-prev" onclick="lightboxNav(-1, event)">&#10094;</button>
    <img id="lightboxImg" src="" alt="">
    <button class="lightbox-next" onclick="lightboxNav(1, event)">&#10095;</button>
    <div class="lightbox-counter" id="lightboxCounter"></div>
  </div>
  {% else %}
  <div class="detail-hero-fallback">
    <span class="hero-emoji">{{ t.image }}</span>
  </div>
  {% endif %}
</div>

<!-- Title Bar -->
<div class="detail-title-bar">
  <div class="container">
    <p class="detail-breadcrumb">{{ t.countryName }} Â· {{ t.city }} Â· {{ t.category }}</p>
    <h1>{{ t.title }}</h1>
    {% if t.reviews %}
    <div class="detail-rating-inline">
      <span class="stars">{% assign full = t.reviews.average | floor %}{% for i in (1..5) %}{% if i <= full %}â˜…{% else %}â˜†{% endif %}{% endfor %}</span>
      <span class="rating-num">{{ t.reviews.average }}</span>
      <span class="rating-count">({{ t.reviews.count }}ê°œ ë¦¬ë·°)</span>
    </div>
    {% endif %}
  </div>
</div>

<!-- Summary Bar -->
<div class="container">
  <div class="summary-bar">
    <div class="summary-item"><div class="summary-icon">ğŸ“…</div><div class="summary-label">ê¸°ê°„</div><div class="summary-value">{{ t.duration }}</div></div>
    <div class="summary-item"><div class="summary-icon">ğŸ“</div><div class="summary-label">ì¶œë°œ â†’ ë„ì°©</div><div class="summary-value">{{ t.summary_bar.start_city }} â†’ {{ t.summary_bar.end_city }}</div></div>
    <div class="summary-item"><div class="summary-icon">ğŸ—£ï¸</div><div class="summary-label">ê°€ì´ë“œ ì–¸ì–´</div><div class="summary-value">{{ t.summary_bar.guide_language }}</div></div>
    <div class="summary-item"><div class="summary-icon">ğŸ‘¥</div><div class="summary-label">ê·¸ë£¹ í¬ê¸°</div><div class="summary-value">ìµœëŒ€ {{ t.groupSize }}ëª…</div></div>
    <div class="summary-item"><div class="summary-icon">â›°ï¸</div><div class="summary-label">ë‚œì´ë„</div><div class="summary-value">{{ t.summary_bar.difficulty }}</div></div>
    <div class="summary-item"><div class="summary-icon">ğŸ‚</div><div class="summary-label">ì—°ë ¹ëŒ€</div><div class="summary-value">{{ t.summary_bar.age_range }}</div></div>
  </div>
</div>

<!-- Main Content + Sidebar -->
<div class="container detail-layout">
  <div class="detail-main">

    <!-- Description -->
    <div class="detail-section">
      <h2 class="section-title">ğŸ“‹ íˆ¬ì–´ ì†Œê°œ</h2>
      <p class="detail-desc">{{ t.description }}</p>
      {% if t.highlights %}
      <h3 class="detail-subtitle">âœ¨ í•˜ì´ë¼ì´íŠ¸</h3>
      <ul class="highlight-list">
        {% for h in t.highlights %}
        <li><span class="hl-icon">â­</span> {{ h }}</li>
        {% endfor %}
      </ul>
      {% endif %}
    </div>

    <!-- Day-by-Day Itinerary (Timeline) -->
    {% if t.itinerary %}
    <div class="detail-section">
      <h2 class="section-title">ğŸ—“ï¸ ìƒì„¸ ì¼ì •</h2>
      <div class="timeline-v2">
        {% for day in t.itinerary %}
        <div class="tl-day" data-day="{{ day.day }}">
          <div class="tl-marker"><span>{{ day.day }}</span></div>
          <div class="tl-content">
            <div class="tl-header" onclick="toggleAccordion(this)">
              <h3>Day {{ day.day }} â€” {{ day.title }}</h3>
              <span class="tl-toggle">â–¼</span>
            </div>
            <div class="tl-body open">
              <p class="tl-desc">{{ day.description }}</p>

              {% if day.stops and day.stops.size > 0 %}
              <div class="tl-detail-row"><span class="tl-detail-icon">ğŸ“</span><div class="tl-detail-content"><strong>ë°©ë¬¸ì§€:</strong> {{ day.stops | join: " â†’ " }}</div></div>
              {% endif %}

              {% if day.activities and day.activities.size > 0 %}
              <div class="tl-detail-row"><span class="tl-detail-icon">ğŸ¯</span><div class="tl-detail-content"><strong>í¬í•¨ ì•¡í‹°ë¹„í‹°:</strong><ul class="tl-act-list">{% for act in day.activities %}<li>{{ act }}</li>{% endfor %}</ul></div></div>
              {% endif %}

              {% if day.transport and day.transport != "" %}
              <div class="tl-detail-row"><span class="tl-detail-icon">ğŸšŒ</span><div class="tl-detail-content"><strong>ì´ë™ìˆ˜ë‹¨:</strong> {{ day.transport }}</div></div>
              {% endif %}

              <div class="tl-badges">
                {% if day.meals.breakfast %}<span class="meal-badge">ğŸ³ ì¡°ì‹</span>{% endif %}
                {% if day.meals.lunch %}<span class="meal-badge">ğŸ½ï¸ ì¤‘ì‹</span>{% endif %}
                {% if day.meals.dinner %}<span class="meal-badge">ğŸŒ™ ì„ì‹</span>{% endif %}
              </div>

              {% if day.accommodation and day.accommodation != "" %}
              <div class="tl-detail-row"><span class="tl-detail-icon">ğŸ¨</span><div class="tl-detail-content"><strong>ìˆ™ë°•:</strong> {{ day.accommodation }}</div></div>
              {% endif %}
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    <!-- Where You'll Stay -->
    {% if t.accommodation_info and t.accommodation_info.size > 0 %}
    <div class="detail-section">
      <h2 class="section-title">ğŸ¨ ìˆ™ë°• ì •ë³´</h2>
      <div class="accom-grid">
        {% for accom in t.accommodation_info %}
        <div class="accom-card">
          <div class="accom-stars">{% for i in (1..accom.stars) %}â˜…{% endfor %}</div>
          <h3>{{ accom.name }}</h3>
          <p class="accom-days">{{ accom.days }}</p>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    <!-- Inclusions by Category -->
    {% if t.included_categories %}
    <div class="detail-section">
      <h2 class="section-title">ğŸ“‹ í¬í•¨ / ë¶ˆí¬í•¨ ì‚¬í•­</h2>
      <div class="inclusions-v2">
        <div class="incl-col incl-yes">
          <h3>âœ… í¬í•¨ ì‚¬í•­</h3>
          {% for cat in t.included_categories %}
          {% if cat[1].size > 0 %}
          <div class="incl-category">
            <h4>{{ cat[0] }}</h4>
            <ul>{% for item in cat[1] %}<li>{{ item }}</li>{% endfor %}</ul>
          </div>
          {% endif %}
          {% endfor %}
        </div>
        <div class="incl-col incl-no">
          <h3>âŒ ë¶ˆí¬í•¨ ì‚¬í•­</h3>
          {% for cat in t.excluded_categories %}
          {% if cat[1].size > 0 %}
          <div class="incl-category">
            <h4>{{ cat[0] }}</h4>
            <ul>{% for item in cat[1] %}<li>{{ item }}</li>{% endfor %}</ul>
          </div>
          {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Reviews -->
    {% if t.reviews %}
    <div class="detail-section">
      <h2 class="section-title">â­ ë¦¬ë·°</h2>
      <div class="review-summary">
        <div class="review-score">
          <div class="review-big-num">{{ t.reviews.average }}</div>
          <div class="review-stars">{% assign full = t.reviews.average | floor %}{% for i in (1..5) %}{% if i <= full %}â˜…{% else %}â˜†{% endif %}{% endfor %}</div>
          <div class="review-total">{{ t.reviews.count }}ê°œ ë¦¬ë·°</div>
        </div>
        <div class="review-cats">
          {% for cat in t.reviews.categories %}
          {% if cat[1] > 0 %}
          <div class="review-cat-row">
            <span class="cat-name">{{ cat[0] }}</span>
            <div class="cat-bar"><div class="cat-bar-fill" style="width:{{ cat[1] | times: 20 }}%"></div></div>
            <span class="cat-score">{{ cat[1] }}</span>
          </div>
          {% endif %}
          {% endfor %}
        </div>
      </div>
      <div class="review-list">
        {% for review in t.reviews.items %}
        <div class="review-card">
          <div class="review-header">
            <div class="review-avatar">{{ review.author | slice: 0 }}</div>
            <div>
              <div class="review-author">{{ review.author }}</div>
              <div class="review-date">{{ review.date }}</div>
            </div>
            <div class="review-rating">{% for i in (1..5) %}{% if i <= review.rating %}â˜…{% else %}â˜†{% endif %}{% endfor %}</div>
          </div>
          <p class="review-text">{{ review.text }}</p>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    <!-- Departures & Pricing -->
    {% if t.departures %}
    <div class="detail-section" id="departures">
      <h2 class="section-title">ğŸ“… ì¶œë°œì¼ & ê°€ê²©</h2>
      <div class="departure-table">
        <div class="dep-header">
          <span>ì¶œë°œì¼</span><span>ê°€ê²© (1ì¸)</span><span>ìƒíƒœ</span><span></span>
        </div>
        {% for dep in t.departures %}
        <div class="dep-row{% if dep.status == 'filling' %} dep-filling{% endif %}">
          <span class="dep-date">{{ dep.date }}</span>
          <span class="dep-price">${{ dep.price }}</span>
          <span class="dep-badge">
            {% if dep.badge == "Filling Fast" %}<span class="badge badge-filling">ğŸ”¥ Filling Fast</span>
            {% elsif dep.badge == "Instant Confirmation" %}<span class="badge badge-instant">âš¡ Instant Confirmation</span>
            {% else %}<span class="badge badge-available">ì˜ˆì•½ ê°€ëŠ¥</span>{% endif %}
          </span>
          <span><button class="btn btn-primary btn-sm" onclick="openInquiry('{{ t.title }} ({{ dep.date }})','{{ t.duration }}','{{ dep.price }}','{{ operator.name | default: "" }}','{{ operator.contact.email | default: "" }}')">ë¬¸ì˜í•˜ê¸°</button></span>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    <!-- Operator Info (Enhanced) -->
    {% if operator %}
    <div class="detail-section">
      <h2 class="section-title">ğŸ¢ ìš´ì˜ì‚¬ ì •ë³´</h2>
      <div class="operator-card-v2">
        <div class="op-header">
          <span class="op-logo">{{ operator.logo }}</span>
          <div class="op-info">
            <h3>{{ operator.name }}</h3>
            <p>ì„¤ë¦½ {{ operator.established }}ë…„ Â· {{ operator.languages | join: ", " }}</p>
          </div>
        </div>
        <p class="op-desc">{{ operator.description }}</p>
        <div class="op-stats">
          <div class="op-stat"><span class="op-stat-num">{{ operator.tourCount }}</span><span class="op-stat-label">íˆ¬ì–´ ìˆ˜</span></div>
          <div class="op-stat"><span class="op-stat-num">{{ operator.ageRange }}</span><span class="op-stat-label">ì—°ë ¹ëŒ€</span></div>
          <div class="op-stat"><span class="op-stat-num">{{ operator.responseTime }}</span><span class="op-stat-label">ì‘ë‹µì‹œê°„</span></div>
          <div class="op-stat"><span class="op-stat-num">{{ operator.responseRate }}</span><span class="op-stat-label">ì‘ë‹µë¥ </span></div>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- FAQ -->
    {% if t.faq %}
    <div class="detail-section">
      <h2 class="section-title">â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</h2>
      <div class="faq-list">
        {% for item in t.faq %}
        <div class="faq-item">
          <div class="faq-q" onclick="toggleFaq(this)">
            <span>{{ item.q }}</span>
            <span class="faq-toggle">+</span>
          </div>
          <div class="faq-a">{{ item.a }}</div>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    {{ content }}

  </div><!-- /detail-main -->

  <!-- Sidebar Booking Card -->
  <aside class="detail-sidebar">
    <div class="booking-card">
      <div class="booking-price">
        <span class="booking-from">From</span>
        <span class="booking-amount">${{ t.priceFrom }}</span>
        <span class="booking-per">/1ì¸</span>
      </div>
      <div class="booking-meta">
        <div>ğŸ“… {{ t.duration }}</div>
        <div>ğŸ‘¥ ìµœëŒ€ {{ t.groupSize }}ëª…</div>
        <div>ğŸ—£ï¸ {{ t.languages | join: ", " }}</div>
      </div>
      {% if t.departures %}
      <div class="booking-next">
        <div class="booking-next-label">ë‹¤ìŒ ì¶œë°œì¼</div>
        <div class="booking-next-date">{{ t.departures[0].date }}</div>
      </div>
      {% endif %}
      <button class="btn btn-primary btn-lg booking-btn" onclick="openInquiry('{{ t.title }}','{{ t.duration }}','{{ t.priceFrom }}','{{ operator.name | default: "" }}','{{ operator.contact.email | default: "" }}')">ğŸ“§ ë¬¸ì˜í•˜ê¸°</button>
      <a href="{{ site.brand.kakao }}" target="_blank" class="btn btn-kakao booking-btn">ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ìƒë‹´</a>
      <a href="tel:{{ site.brand.phone }}" class="btn btn-outline booking-btn">â˜ï¸ {{ site.brand.phone }}</a>
      <a href="#departures" class="booking-all-dates">ëª¨ë“  ì¶œë°œì¼ ë³´ê¸° â†“</a>
    </div>
  </aside>
</div>

<!-- Related Tours -->
<div class="section">
  <div class="container">
    <h2 class="section-title">ğŸ”— ê´€ë ¨ íˆ¬ì–´</h2>
    <div class="cruise-grid">
      {% for tour in site.data.tours %}
        {% if tour.continent == t.continent and tour.id != t.tourId %}
        <a href="{{ '/tour/' | append: tour.slug | append: '/' | relative_url }}" class="cruise-card-link">
          <div class="cruise-card">
            <div class="cruise-card-image">
              {% assign match = nil %}{% for tt in site.tours %}{% if tt.tourId == tour.id %}{% assign match = tt %}{% endif %}{% endfor %}
              {% if match and match.gallery and match.gallery.size > 0 %}
              <img src="{{ match.gallery[0].url }}" alt="{{ tour.title }}" style="width:100%;height:100%;object-fit:cover;">
              {% else %}
              <div class="placeholder">{{ tour.image }}</div>
              {% endif %}
            </div>
            <div class="cruise-card-body">
              <div class="cruise-card-meta">{{ tour.countryName }} Â· {{ tour.city }}</div>
              <div class="cruise-card-title">{{ tour.title }}</div>
              <div class="cruise-card-ports">{{ tour.duration }} Â· {{ tour.category }}</div>
              <div class="cruise-card-footer">
                <div class="cruise-card-price">${{ tour.priceFrom }}~ <small>/1ì¸</small></div>
              </div>
            </div>
          </div>
        </a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

<!-- CTA -->
<div class="cta-section">
  <div class="container">
    <h2>ì´ íˆ¬ì–´ê°€ ë§ˆìŒì— ë“œì…¨ë‚˜ìš”?</h2>
    <p>DMC íˆ¬ì–´ë§í¬ê°€ í˜„ì§€ ìš´ì˜ì‚¬ì™€ ì§ì ‘ ì—°ê²°í•´ë“œë¦½ë‹ˆë‹¤.</p>
    <div class="cta-buttons">
      <button class="btn btn-primary btn-lg" onclick="openInquiry('{{ t.title }}','{{ t.duration }}','{{ t.priceFrom }}','{{ operator.name | default: "" }}','{{ operator.contact.email | default: "" }}')">ğŸ“§ ë¬¸ì˜í•˜ê¸°</button>
      <a href="{{ site.brand.kakao }}" target="_blank" class="btn btn-kakao btn-lg">ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ìƒë‹´</a>
      <a href="tel:{{ site.brand.phone }}" class="btn btn-outline btn-lg" style="border-color:white;color:white;">â˜ï¸ {{ site.brand.phone }}</a>
    </div>
  </div>
</div>
