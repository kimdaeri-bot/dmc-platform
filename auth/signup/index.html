---
layout: default
title: íšŒì›ê°€ì… - DMC íˆ¬ì–´ë§í¬
---

<div class="section">
  <div class="container">
    <div class="auth-container auth-signup">
      <div class="auth-card">
        <h1 class="auth-title">íšŒì›ê°€ì…</h1>
        <p class="auth-subtitle">B2B íˆ¬ì–´ í”Œë«í¼ì…ë‹ˆë‹¤.<br>ê°€ì… ì‹ ì²­ í›„ ê´€ë¦¬ì ìŠ¹ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>

        <form id="signupForm" onsubmit="return handleSignup(event)">
          <!-- ê°€ì… ìœ í˜• ì„ íƒ -->
          <h3 class="auth-section-title">ğŸ”‘ ê°€ì… ìœ í˜•</h3>
          <div class="role-selector" style="display:flex;gap:16px;margin-bottom:24px">
            <label class="role-card selected" id="roleCard-agency" onclick="selectRole('agency')" style="flex:1;display:flex;align-items:center;gap:12px;padding:20px;border:2px solid var(--navy);border-radius:12px;cursor:pointer;background:#fff;transition:all .2s;position:relative">
              <input type="radio" name="role" value="agency" checked style="display:none">
              <span style="font-size:32px">ğŸ¢</span>
              <span><strong style="font-size:15px;display:block">ì—¬í–‰ì‚¬</strong><small style="color:var(--gray-500)">Travel Agency</small></span>
              <span class="role-check" style="position:absolute;top:8px;right:8px;font-size:18px;color:var(--navy)">âœ”</span>
            </label>
            <label class="role-card" id="roleCard-dmc" onclick="selectRole('dmc')" style="flex:1;display:flex;align-items:center;gap:12px;padding:20px;border:2px solid var(--gray-200);border-radius:12px;cursor:pointer;background:#fff;transition:all .2s;position:relative">
              <input type="radio" name="role" value="dmc" style="display:none">
              <span style="font-size:32px">ğŸŒ</span>
              <span><strong style="font-size:15px;display:block">DMC ìš´ì˜ì‚¬</strong><small style="color:var(--gray-500)">DMC Operator</small></span>
              <span class="role-check" style="position:absolute;top:8px;right:8px;font-size:18px;color:var(--navy);display:none">âœ”</span>
            </label>
          </div>

          <!-- DMC ì¶”ê°€ í•„ë“œ (ìˆ¨ê¹€) -->
          <div id="dmcFields" style="display:none;margin-bottom:24px;padding:20px;background:var(--gray-50);border-radius:12px;border:1px solid var(--gray-200)">
            <h3 class="auth-section-title" style="margin-top:0">ğŸŒ DMC ì •ë³´</h3>
            <div class="form-group">
              <label for="operatingCountry">ìš´ì˜ êµ­ê°€/ì§€ì—­ <span class="req">*</span></label>
              <input type="text" id="operatingCountry" name="operatingCountry" placeholder="ì˜ˆ: ì¼ë³¸, íƒœêµ­, ë² íŠ¸ë‚¨">
            </div>
            <div class="form-group">
              <label>ì£¼ìš” íˆ¬ì–´ ì¹´í…Œê³ ë¦¬</label>
              <div class="checkbox-grid">
                <label class="checkbox-item"><input type="checkbox" name="tourCategory" value="ì‹œí‹°íˆ¬ì–´"> ì‹œí‹°íˆ¬ì–´</label>
                <label class="checkbox-item"><input type="checkbox" name="tourCategory" value="ìì—°/ê´€ê´‘"> ìì—°/ê´€ê´‘</label>
                <label class="checkbox-item"><input type="checkbox" name="tourCategory" value="ë¬¸í™”/ì²´í—˜"> ë¬¸í™”/ì²´í—˜</label>
              </div>
            </div>
            <div class="form-group">
              <label for="companyDesc">íšŒì‚¬ ì†Œê°œ</label>
              <textarea id="companyDesc" name="companyDesc" rows="4" placeholder="íšŒì‚¬ì— ëŒ€í•´ ê°„ëµíˆ ì†Œê°œí•´ ì£¼ì„¸ìš”." style="width:100%;padding:12px;border:1px solid var(--gray-300);border-radius:8px;font-size:14px;resize:vertical"></textarea>
            </div>
          </div>

          <!-- íšŒì‚¬ ì •ë³´ -->
          <h3 class="auth-section-title">ğŸ¢ íšŒì‚¬ ì •ë³´</h3>
          <div class="form-group">
            <label for="companyKr">íšŒì‚¬ëª… (êµ­ë¬¸) <span class="req">*</span></label>
            <input type="text" id="companyKr" name="companyKr" placeholder="(ì£¼)OOì—¬í–‰ì‚¬" required>
          </div>
          <div class="form-group">
            <label for="companyEn">íšŒì‚¬ëª… (ì˜ë¬¸) <span class="req">*</span></label>
            <input type="text" id="companyEn" name="companyEn" placeholder="OO Travel Co., Ltd." required>
          </div>
          <div class="form-group">
            <label for="bizNo">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ <span class="req">*</span></label>
            <input type="text" id="bizNo" name="bizNo" placeholder="000-00-00000" required>
          </div>

          <!-- ë‹´ë‹¹ì ì •ë³´ -->
          <h3 class="auth-section-title">ğŸ‘¤ ë‹´ë‹¹ì ì •ë³´</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="name">ì´ë¦„ <span class="req">*</span></label>
              <input type="text" id="name" name="name" placeholder="í™ê¸¸ë™" required>
            </div>
            <div class="form-group">
              <label for="position">ì§ì±… <span class="req">*</span></label>
              <input type="text" id="position" name="position" placeholder="ê³¼ì¥" required>
            </div>
          </div>
          <div class="form-group">
            <label for="email">ì´ë©”ì¼ <span class="req">*</span></label>
            <input type="email" id="email" name="email" placeholder="manager@company.com" required>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="password">ë¹„ë°€ë²ˆí˜¸ <span class="req">*</span></label>
              <input type="password" id="password" name="password" placeholder="8ì ì´ìƒ" required minlength="8">
            </div>
            <div class="form-group">
              <label for="passwordConfirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸ <span class="req">*</span></label>
              <input type="password" id="passwordConfirm" name="passwordConfirm" placeholder="ë¹„ë°€ë²ˆí˜¸ ì¬ì…ë ¥" required>
            </div>
          </div>
          <div class="form-group">
            <label for="phone">ì „í™”ë²ˆí˜¸ <span class="req">*</span></label>
            <input type="tel" id="phone" name="phone" placeholder="02-0000-0000" required>
          </div>

          <!-- ì„ íƒ ì •ë³´ -->
          <h3 class="auth-section-title">ğŸ“‹ ì„ íƒ ì •ë³´</h3>
          <div class="form-group">
            <label for="website">íšŒì‚¬ ì›¹ì‚¬ì´íŠ¸</label>
            <input type="url" id="website" name="website" placeholder="https://www.company.com">
          </div>
          <div class="form-group">
            <label>ì£¼ìš” ì·¨ê¸‰ ì§€ì—­</label>
            <div class="checkbox-grid">
              <label class="checkbox-item"><input type="checkbox" name="region" value="asia"> ì•„ì‹œì•„</label>
              <label class="checkbox-item"><input type="checkbox" name="region" value="europe"> ìœ ëŸ½</label>
              <label class="checkbox-item"><input type="checkbox" name="region" value="americas"> ì•„ë©”ë¦¬ì¹´</label>
              <label class="checkbox-item"><input type="checkbox" name="region" value="oceania"> ì˜¤ì„¸ì•„ë‹ˆì•„</label>
              <label class="checkbox-item"><input type="checkbox" name="region" value="africa"> ì•„í”„ë¦¬ì¹´</label>
              <label class="checkbox-item"><input type="checkbox" name="region" value="middle-east"> ì¤‘ë™</label>
            </div>
          </div>

          <!-- ì•½ê´€ ë™ì˜ -->
          <h3 class="auth-section-title">ğŸ“„ ì•½ê´€ ë™ì˜</h3>
          <div class="terms-agree">
            <label class="checkbox-item">
              <input type="checkbox" id="agreeAll" onchange="toggleAll(this)">
              <strong>ì „ì²´ ë™ì˜</strong>
            </label>
            <hr style="margin:12px 0;border:none;border-top:1px solid var(--gray-200);">
            <label class="checkbox-item">
              <input type="checkbox" name="agree" value="terms" class="agree-item" required>
              <a href="{{ '/terms/' | relative_url }}" target="_blank">ì´ìš©ì•½ê´€</a> ë™ì˜ <span class="req">(í•„ìˆ˜)</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="agree" value="privacy" class="agree-item" required>
              <a href="{{ '/privacy/' | relative_url }}" target="_blank">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a> ë™ì˜ <span class="req">(í•„ìˆ˜)</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="agree" value="marketing" class="agree-item">
              ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹  ë™ì˜ <span style="color:var(--gray-500);">(ì„ íƒ)</span>
            </label>
          </div>

          <button type="submit" class="btn btn-primary btn-lg" style="width:100%;margin-top:24px;">íšŒì›ê°€ì… ì‹ ì²­</button>
        </form>

        <div id="signupMessage" class="form-status" style="margin-top:16px;"></div>

        <div class="auth-footer">
          <p>ì´ë¯¸ íšŒì›ì´ì‹ ê°€ìš”? <a href="{{ '/auth/login/' | relative_url }}">ë¡œê·¸ì¸</a></p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
var selectedRole = 'agency';
function selectRole(role) {
  selectedRole = role;
  document.querySelectorAll('.role-card').forEach(function(c){
    c.style.borderColor = 'var(--gray-200)';
    c.querySelector('.role-check').style.display = 'none';
  });
  var card = document.getElementById('roleCard-' + role);
  card.style.borderColor = 'var(--navy)';
  card.querySelector('.role-check').style.display = 'block';
  card.querySelector('input[type="radio"]').checked = true;
  document.getElementById('dmcFields').style.display = role === 'dmc' ? 'block' : 'none';
}

function toggleAll(el) {
  document.querySelectorAll('.agree-item').forEach(function(cb) { cb.checked = el.checked; });
}
document.querySelectorAll('.agree-item').forEach(function(cb) {
  cb.addEventListener('change', function() {
    var all = document.querySelectorAll('.agree-item');
    var checked = document.querySelectorAll('.agree-item:checked');
    document.getElementById('agreeAll').checked = all.length === checked.length;
  });
});
function handleSignup(e) {
  e.preventDefault();
  var pw = document.getElementById('password').value;
  var pwc = document.getElementById('passwordConfirm').value;
  var msg = document.getElementById('signupMessage');
  var btn = document.querySelector('#signupForm button[type="submit"]');

  if (pw !== pwc) {
    msg.className = 'form-status error';
    msg.style.display = 'block';
    msg.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
    return false;
  }

  btn.disabled = true;
  btn.textContent = 'ê°€ì… ì²˜ë¦¬ ì¤‘...';
  msg.style.display = 'none';

  var email = document.getElementById('email').value;
  var regions = [];
  document.querySelectorAll('input[name="region"]:checked').forEach(function(cb) {
    regions.push(cb.value);
  });

  auth.createUserWithEmailAndPassword(email, pw)
    .then(function(cred) {
      var now = firebase.firestore.FieldValue.serverTimestamp();
      var userData = {
        companyNameKr: document.getElementById('companyKr').value,
        companyNameEn: document.getElementById('companyEn').value,
        businessNumber: document.getElementById('bizNo').value,
        contactName: document.getElementById('name').value,
        position: document.getElementById('position').value,
        email: email,
        phone: document.getElementById('phone').value,
        website: document.getElementById('website').value || '',
        regions: regions,
        role: selectedRole,
        status: 'pending',
        createdAt: now,
        updatedAt: now
      };
      if (selectedRole === 'dmc') {
        userData.operatingCountry = document.getElementById('operatingCountry').value || '';
        var cats = [];
        document.querySelectorAll('input[name="tourCategory"]:checked').forEach(function(cb){ cats.push(cb.value); });
        userData.tourCategories = cats;
        userData.companyDescription = document.getElementById('companyDesc').value || '';
      }
      return db.collection('users').doc(cred.user.uid).set(userData);
    })
    .then(function() {
      return auth.signOut();
    })
    .then(function() {
      document.getElementById('signupForm').style.display = 'none';
      msg.className = 'form-status success';
      msg.style.display = 'block';
      msg.innerHTML = '<strong>âœ… ê°€ì… ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.</strong><br>ê´€ë¦¬ì ìŠ¹ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ìŠ¹ì¸ ì™„ë£Œ ì‹œ ì…ë ¥í•˜ì‹  ì´ë©”ì¼ë¡œ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.';
    })
    .catch(function(err) {
      msg.className = 'form-status error';
      msg.style.display = 'block';
      var errMsg = 'íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
      if (err.code === 'auth/email-already-in-use') errMsg = 'ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.';
      else if (err.code === 'auth/weak-password') errMsg = 'ë¹„ë°€ë²ˆí˜¸ê°€ ë„ˆë¬´ ì•½í•©ë‹ˆë‹¤. 6ì ì´ìƒ ì…ë ¥í•˜ì„¸ìš”.';
      else if (err.code === 'auth/invalid-email') errMsg = 'ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ í˜•ì‹ì…ë‹ˆë‹¤.';
      msg.textContent = errMsg;
      btn.disabled = false;
      btn.textContent = 'íšŒì›ê°€ì… ì‹ ì²­';
    });
  return false;
}
</script>
